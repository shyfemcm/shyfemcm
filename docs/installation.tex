
%------------------------------------------------------------------------
%
%    Copyright (C) 1985-2020  Georg Umgiesser
%
%    This file is part of SHYFEM.
%
%    SHYFEM is free software: you can redistribute it and/or modify
%    it under the terms of the GNU General Public License as published by
%    the Free Software Foundation, either version 3 of the License, or
%    (at your option) any later version.
%
%    SHYFEM is distributed in the hope that it will be useful,
%    but WITHOUT ANY WARRANTY; without even the implied warranty of
%    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
%    GNU General Public License for more details.
%
%    You should have received a copy of the GNU General Public License
%    along with SHYFEM. Please see the file COPYING in the main directory.
%    If not, see <http://www.gnu.org/licenses/>.
%
%    Contributions to this file can be found below in the revision log.
%
%------------------------------------------------------------------------

\newcommand{\sysfiles}{.bashrc .bash\_profile .profile}

Before compiling it is advisable to install some files for a simpler
usage of the model. As long as you only want to run a simulation, this
step is not strictly necessary. But if you will run some scripts of the
distribution, these scripts will not work properly if you do not install
the model.

In order to install the model, you should run

\begin{code}
    make install
\end{code}

This command will do the following:

\begin{itemize}

\item It hardcodes the installation directory in all scripts of the
model so only programs of the installed version will be executed.

\item It inserts a symbolic link |syhfem| from the home directory to
the root of the SHYFEM installation.

\item It inserts a small snippet of code into the initialization files
\ttt{\sysfiles} that are in your home directory. This will adjust your
path to point to the SHYFEM directory and gives you access to some
administrative commands.

\end{itemize}

After this command you will find the original files that have been changed
in your home directory saved with a trailing number (e.g., |.profile.35624|
or similar).  If you encounter problems, just substitute back these files.

In order that your new settings will take effect you will have to log
out and log in again.

If you do not want to run the installation routine, you should at least
manually insert a symbolic link to the root of the SHYFEM model and
modify your PATH enviromental variable:

\begin{codem}
    cd
    ln -fs \shydir shyfem
    echo -e "\\nexport PATH=$PATH:$HOME/shyfem/bin" >> .bashrc
\end{codem}

If you have more versions installed, you should use |make install_hard|
in order to use the complete paths of the directories in the scripts.
You can run |make install_hard_reset| to restore the previous situation.

If you ever want to uninstall the model, you can do it with the command
|make uninstall|. This will delete the symbolic link, cancel the hard
links in the model scripts and restore the systemfiles \ttt{\sysfiles}
to their original content.

Please note that you will still have to delete manually the model
directory. This can be done with the command \ttt{rm -rf \shydir}). In
this way, however, changes to the code you have made will be lost.

For other options refers to the |Rules.make| file.
